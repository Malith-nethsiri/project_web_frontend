@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Variables System - Light, Dark, System Themes */
@layer base {
    /* Light Theme (Default) */
    :root {
        --bg: 250 250 250;
        --fg: 17 24 39;
        --brand: 99 102 241; /* violet-ish */
        
        /* shadcn/ui compatible variables */
        --primary: 99 102 241;
        --primary-foreground: 250 250 250;
        
        --background: 0 0% 100%;
        --foreground: 220 9% 46%;
        
        --card: 0 0% 100%;
        --card-foreground: 220 9% 46%;
        
        --popover: 0 0% 100%;
        --popover-foreground: 220 9% 46%;
        
        --secondary: 220 13% 91%;
        --secondary-foreground: 220 9% 46%;
        
        --muted: 220 13% 95%;
        --muted-foreground: 220 9% 46%;
        
        --accent: 220 13% 95%;
        --accent-foreground: 220 9% 46%;
        
        --destructive: 0 84% 60%;
        --destructive-foreground: 210 20% 98%;
        
        --border: 220 13% 91%;
        --input: 220 13% 91%;
        --ring: 262 83% 58%;
        
        --radius: 0.5rem;
    }

    .dark {
        --bg: 17 17 19;
        --fg: 232 232 236;
        
        --primary: 99 102 241;
        --primary-foreground: 17 17 19;
        
        --background: 220 9% 9%;
        --foreground: 220 13% 91%;
        
        --card: 220 13% 7%;
        --card-foreground: 220 13% 91%;
        
        --popover: 220 9% 9%;
        --popover-foreground: 220 13% 91%;
        
        --secondary: 220 9% 15%;
        --secondary-foreground: 220 13% 91%;
        
        --muted: 220 9% 15%;
        --muted-foreground: 220 9% 63%;
        
        --accent: 220 9% 15%;
        --accent-foreground: 220 13% 91%;
        
        --destructive: 0 62% 30%;
        --destructive-foreground: 220 13% 91%;
        
        --border: 220 9% 15%;
        --input: 220 9% 15%;
    }

    /* Base styles */
    * {
        border-color: hsl(var(--border));
    }

    html {
        color-scheme: light dark;
        scroll-behavior: smooth;
    }

    body {
        background-color: hsl(var(--background));
        color: hsl(var(--foreground));
        font-feature-settings: "rlig" 1, "calt" 1;
        transition: background-color 0.3s ease, color 0.3s ease;
        @apply bg-background text-foreground antialiased;
    }

    /* Typography scale */
    .text-xs {
        font-size: 0.75rem;
        line-height: 1rem;
    }

    .text-sm {
        font-size: 0.875rem;
        line-height: 1.25rem;
    }

    .text-base {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    .text-lg {
        font-size: 1.125rem;
        line-height: 1.75rem;
    }

    .text-xl {
        font-size: 1.25rem;
        line-height: 1.75rem;
    }

    .text-2xl {
        font-size: 1.5rem;
        line-height: 2rem;
    }

    .text-3xl {
        font-size: 1.875rem;
        line-height: 2.25rem;
    }

    .text-4xl {
        font-size: 2.25rem;
        line-height: 2.5rem;
    }

    /* Focus styles for accessibility */
    *:focus-visible {
        outline: 2px solid hsl(var(--ring));
        outline-offset: 2px;
    }

    /* Smooth transitions but respect reduced motion */
    * {
        transition: background-color 0.15s ease, color 0.15s ease, border-color 0.15s ease,
            opacity 0.15s ease, box-shadow 0.15s ease, transform 0.15s ease;
    }

    @media (prefers-reduced-motion: reduce) {
        * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }
    }

    /* High contrast mode support */
    @media (prefers-contrast: high) {

        :root,
        [data-theme="light"] {
            --foreground: 0 0% 0%;
            --background: 0 0% 100%;
            --border: 0 0% 0%;
        }

        [data-theme="dark"] {
            --foreground: 0 0% 100%;
            --background: 0 0% 0%;
            --border: 0 0% 100%;
        }
    }
}

/* Component base styles */
@layer components {

    /* Button variants */
    .btn {
        @apply inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50;
        background-color: hsl(var(--primary));
        color: hsl(var(--primary-foreground));
        padding: 0.5rem 1rem;
        min-height: 2.5rem;
    }

    .btn:hover {
        opacity: 0.9;
    }

    .btn-secondary {
        background-color: hsl(var(--secondary));
        color: hsl(var(--secondary-foreground));
    }

    .btn-secondary:hover {
        background-color: hsl(var(--secondary) / 0.8);
    }

    .btn-outline {
        border: 1px solid hsl(var(--border));
        background-color: transparent;
        color: hsl(var(--foreground));
    }

    .btn-outline:hover {
        background-color: hsl(var(--accent));
        color: hsl(var(--accent-foreground));
    }

    .btn-ghost {
        background-color: transparent;
        color: hsl(var(--foreground));
    }

    .btn-ghost:hover {
        background-color: hsl(var(--accent));
        color: hsl(var(--accent-foreground));
    }

    /* Input styles */
    .input {
        @apply flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
        background-color: hsl(var(--background));
        border-color: hsl(var(--input));
        color: hsl(var(--foreground));
    }

    .input::placeholder {
        color: hsl(var(--muted-foreground));
    }

    /* Card styles */
    .card {
        background-color: hsl(var(--card));
        color: hsl(var(--card-foreground));
        border: 1px solid hsl(var(--border));
        border-radius: calc(var(--radius) + 2px);
        box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    }

    /* Skeleton loading animation */
    .skeleton {
        @apply animate-pulse rounded-md bg-muted;
        background-color: hsl(var(--muted));
    }
}

/* Utility classes */
@layer utilities {
    .text-primary {
        color: hsl(var(--primary));
    }

    .text-secondary {
        color: hsl(var(--secondary-foreground));
    }

    .text-muted {
        color: hsl(var(--muted-foreground));
    }

    .text-success {
        color: hsl(var(--success));
    }

    .text-warning {
        color: hsl(var(--warning));
    }

    .text-destructive {
        color: hsl(var(--destructive));
    }

    .bg-primary {
        background-color: hsl(var(--primary));
    }

    .bg-secondary {
        background-color: hsl(var(--secondary));
    }

    .bg-muted {
        background-color: hsl(var(--muted));
    }

    .bg-card {
        background-color: hsl(var(--card));
    }

    .border-primary {
        border-color: hsl(var(--border));
    }

    /* Focus ring utility */
    .focus-ring {
        @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
    }

    /* Custom component classes for the landing page */
    .container-custom {
        @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
    }

    .section-padding {
        @apply py-16 sm:py-20;
    }

    .btn-primary {
        @apply inline-flex items-center justify-center rounded-xl bg-brand text-white px-4 py-2 text-sm font-medium transition hover:opacity-90;
    }

    .btn-secondary {
        @apply inline-flex items-center justify-center rounded-xl bg-white text-gray-900 hover:bg-gray-100 dark:bg-zinc-800 dark:text-white px-4 py-2 text-sm font-medium transition;
    }

    .btn-ghost {
        @apply inline-flex items-center justify-center rounded-xl bg-transparent hover:bg-black/5 dark:hover:bg-white/5 px-4 py-2 text-sm font-medium transition;
    }

    .btn-accent {
        @apply inline-flex items-center justify-center rounded-xl bg-accent text-white px-4 py-2 text-sm font-medium transition hover:opacity-90;
    }

    .heading-xl {
        @apply text-4xl font-semibold leading-tight;
    }

    .heading-lg {
        @apply text-2xl font-semibold;
    }

    .heading-sm {
        @apply text-xl font-semibold;
    }

    .text-large {
        @apply text-lg text-muted-foreground;
    }

    .text-body {
        @apply text-base text-muted-foreground;
    }

    .text-gradient {
        @apply bg-gradient-to-r from-brand to-accent bg-clip-text text-transparent;
    }

    .card-feature {
        @apply bg-white dark:bg-zinc-800 rounded-2xl p-8 border border-neutral-200 dark:border-zinc-700 shadow-soft hover:shadow-medium transition-all duration-300;
    }

    .card-premium {
        @apply bg-white dark:bg-zinc-800 rounded-2xl border border-neutral-200 dark:border-zinc-700 shadow-large hover:shadow-xl transition-all duration-300;
    }

    .bg-gradient-hero {
        background: linear-gradient(135deg, rgb(var(--brand)) 0%, rgb(var(--accent)) 100%);
    }

    .bg-gradient-animated {
        background: linear-gradient(45deg, rgb(var(--brand)) 0%, rgb(var(--accent)) 50%, rgb(var(--brand)) 100%);
        background-size: 400% 400%;
        animation: gradient 15s ease infinite;
    }

    @keyframes gradient {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    /* Shadow utilities */
    .shadow-soft {
        box-shadow: 0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04);
    }

    .shadow-medium {
        box-shadow: 0 4px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }

    .shadow-large {
        box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.1), 0 2px 10px -2px rgba(0, 0, 0, 0.04);
    }
}
